# 壁画插件

壁画插件用于收藏、管理和分享群组内的图片（称为"壁画"）。

## 功能特性

- **收藏壁画**：支持收藏图片并给图片命名
- **查看壁画**：根据名称查看收藏的壁画
- **搜索壁画**：模糊搜索壁画名称
- **管理功能**：查看所有壁画、删除自己的壁画、统计收藏数量
- **防重复**：通过图片hash值避免重复收藏相同图片
- **权限控制**：用户只能删除自己收藏的壁画

## 使用方法

### 收藏壁画

```plaintext
/post 壁画名称 [图片]
```

在发送命令的同时包含一张图片，将图片收藏为指定名称的壁画。

### 查看壁画

```plaintext
/bihua 壁画名称
```

根据名称查看壁画，会显示图片、收藏者和收藏时间。

### 搜索壁画

```plaintext
/bihua_search 关键词
```

搜索包含关键词的壁画名称，返回匹配的壁画列表。

### 查看所有壁画

```plaintext
/bihua_list
```

查看当前群组收藏的所有壁画。

### 删除壁画

```plaintext
/bihua_delete 壁画名称
```

删除自己收藏的壁画（只能删除自己收藏的）。

### 统计收藏数量（管理员）

```plaintext
/bihua_count
```

统计各用户收藏的壁画数量（需要管理员权限）。

## 数据存储

- 壁画数据存储在数据库中
- 支持存储图片URL和图片数据
- 记录收藏者、收藏时间等信息
- 使用MD5计算图片hash值防止重复

## 注意事项

1. 每个群组的壁画是独立的
2. 壁画名称在同一群组内必须唯一
3. 相同的图片（相同hash值）在同一群组内只能收藏一次
4. 用户只能删除自己收藏的壁画
5. 统计功能需要管理员权限
